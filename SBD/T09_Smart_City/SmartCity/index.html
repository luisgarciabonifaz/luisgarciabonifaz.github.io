
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.12">
    
    
      
        <title>9. Smart City con FIWARE - Mis Clases</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.2afb09e1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#9-smart-city-con-fiware" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Mis Clases" class="md-header__button md-logo" aria-label="Mis Clases" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Mis Clases
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              9. Smart City con FIWARE
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Mis Clases" class="md-nav__button md-logo" aria-label="Mis Clases" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Mis Clases
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Inicio
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sistemes Operatius Monolloc
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Sistemes Operatius Monolloc
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema01/SistemesInformatics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T1 - Sistemes Informàtics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema02/SistemesOperatius/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T2 - Sistemes Operatius
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema03/GestionRecursos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T3 - Gestión de Recursos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema04/Virtualitzacio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T4 - Virtualització
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema05/InstalacionSO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T5 - Instalació Sistemes Operatius
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema06/ConfiguracionBasicaWindows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T6 - Configuració bàsica Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema07/FicherosDirectoriosWindows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T7 - Gestió de fitxers i directoris en Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema08/UsuariosGruposWindows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T8 - Gestió de usuaris i grups en Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema09/AdministracionWindows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T9 - Administració del Sistema en Windows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema10/IntroduccionLinux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T10 - Introducción Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema11/ArchivosLinux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T11 - Gestión de archivos en Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema12/Usuarios/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T12 - Gestión de usurarios en Linux
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../SOM/Tema13/Administracion_Linux/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T13 - Administración en Linux
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sistemas Big Data
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Sistemas Big Data
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema01/BigDataConAWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T1 - Big Data con AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema02/InfraestructuraAWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T2 - Infraestructura AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema03/SeguridadAWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T3 - Seguridad en AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema04/Informatica/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T4 - Informatica en AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema05/AlmacenamientoAWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T5 - Almacenamiento en AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema06/BasesDatos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T6 - Bases de Datos AWS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema07/AWS_Glue/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T7 - AWS Glue
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema08/Kinesis/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T8 - AWS Kinesis
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../T09_Smart_City/SmartCity.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T9 - Smart City
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Tema01/PracticasAWS/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T10 - AWS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Big Data Aplicado
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Big Data Aplicado
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema00/Infraestructura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T0 - Infraestrucura Big Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema01_Intro/IntroduccionBigData/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T1 - Introducción Big Data
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema02_SQL/RepasoSQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T2 - Repaso SQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema03_NoSQL/NoSQL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T3 - Bases de datos NoSQL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema04_Mongo/MongoDB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T4 - MongoDB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema05_Arquitectura/Arquitectura/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T5 - Arquitectura
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema06_Almacenamiento/Almacenamiento/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T6 - Almacenamiento
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema07_ETL/ETL/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T7 - ETL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema07_NiFi/Nifi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T7 - Nifi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BDA/Tema08/BI.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T8 - Bussines Intelligence
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Power BI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Power BI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema01/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T1 - Introducción Power BI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema02/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T2 - Instalación y configuración de Power BI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema03/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T3 - Conectando datos a Power BI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema04/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T4 - Transformación y limpieza de datos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema05/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T5 - Modelado de datos en Power BI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema06/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T6 - Creación de visualizaciones básicas
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema07/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T7 - Creación de informes interactivos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema08/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T8 - Compartir y colaborar en Power BI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../PowerBI/Tema09/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    T9 - Actualización de datos y programación de actualizaciones
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#91-que-es-una-smart-city" class="md-nav__link">
    <span class="md-ellipsis">
      9.1. ¿Qué es una Smart City?
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#92-introduccion-a-fiware-y-las-smart-cities" class="md-nav__link">
    <span class="md-ellipsis">
      9.2. Introducción a FIWARE y las Smart Cities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-arquitectura-de-fiware" class="md-nav__link">
    <span class="md-ellipsis">
      9.3. Arquitectura de FIWARE
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.3. Arquitectura de FIWARE">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-estructura-de-datos-en-el-context-broker-orion" class="md-nav__link">
    <span class="md-ellipsis">
      3.1. Estructura de Datos en el Context Broker Orion
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. Estructura de Datos en el Context Broker Orion">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#componentes-clave-de-la-estructura-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      Componentes clave de la estructura de datos:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creacion-de-entidades-en-orion" class="md-nav__link">
    <span class="md-ellipsis">
      Creación de Entidades en Orion
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#actualizacion-de-datos-en-una-entidad" class="md-nav__link">
    <span class="md-ellipsis">
      Actualización de Datos en una Entidad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#consulta-de-datos-en-una-entidad" class="md-nav__link">
    <span class="md-ellipsis">
      Consulta de Datos en una Entidad
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relacion-entre-entidades" class="md-nav__link">
    <span class="md-ellipsis">
      Relación entre entidades
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94-despliegue-de-fiware-en-una-smart-city" class="md-nav__link">
    <span class="md-ellipsis">
      9.4. Despliegue de FIWARE en una Smart City
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.4. Despliegue de FIWARE en una Smart City">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#941-requisitos" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.1. Requisitos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#942-configuracion-de-fiware" class="md-nav__link">
    <span class="md-ellipsis">
      9.4.2. Configuración de FIWARE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-integracion-de-sensores-iot" class="md-nav__link">
    <span class="md-ellipsis">
      9.5. Integración de Sensores IoT
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.5. Integración de Sensores IoT">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#951-conexion-de-sensores-a-fiware" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.1. Conexión de Sensores a FIWARE
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#952-registro-de-sensores" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.2. Registro de Sensores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#953-envio-de-datos-desde-sensores" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.3. Envío de Datos desde Sensores
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#954-consulta-de-datos-en-orion" class="md-nav__link">
    <span class="md-ellipsis">
      9.5.4. Consulta de Datos en Orion
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-analisis-y-visualizacion-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      9.6. Análisis y Visualización de Datos
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.6. Análisis y Visualización de Datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#961-almacenamiento-y-recuperacion-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      9.6.1. Almacenamiento y Recuperación de Datos
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#962-integracion-con-grafana" class="md-nav__link">
    <span class="md-ellipsis">
      9.6.2. Integración con Grafana
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#963-uso-de-jupyter-notebooks-para-el-analisis-de-datos" class="md-nav__link">
    <span class="md-ellipsis">
      9.6.3. Uso de Jupyter Notebooks para el Análisis de Datos
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#97-seguridad-y-gestion-de-usuarios" class="md-nav__link">
    <span class="md-ellipsis">
      9.7. Seguridad y Gestión de Usuarios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.7. Seguridad y Gestión de Usuarios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#971-autenticacion-y-autorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      9.7.1. Autenticación y Autorización
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#972-creacion-de-usuarios-y-roles" class="md-nav__link">
    <span class="md-ellipsis">
      9.7.2. Creación de Usuarios y Roles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#98-casos-de-uso-en-smart-cities" class="md-nav__link">
    <span class="md-ellipsis">
      9.8. Casos de Uso en Smart Cities
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#99-ejemplo-practico-de-fiware-con-docker" class="md-nav__link">
    <span class="md-ellipsis">
      9.9. Ejemplo práctico de FIWARE con Docker
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="9-smart-city-con-fiware">9. Smart City con FIWARE</h1>
<h2 id="91-que-es-una-smart-city">9.1. ¿Qué es una Smart City?</h2>
<p>Una Smart City (ciudad inteligente) es una urbe que utiliza tecnologías digitales y de comunicación para mejorar la eficiencia de los servicios urbanos, optimizar el uso de los recursos y mejorar la calidad de vida de los ciudadanos. </p>
<p>A través de sensores IoT, Big Data, inteligencia artificial y plataformas digitales, las Smart Cities pueden gestionar de manera inteligente infraestructuras como el tráfico, el alumbrado público, la gestión de residuos y la seguridad ciudadana.</p>
<h2 id="92-introduccion-a-fiware-y-las-smart-cities">9.2. Introducción a FIWARE y las Smart Cities</h2>
<p>FIWARE es una plataforma de código abierto que proporciona componentes para desarrollar soluciones inteligentes, especialmente en el ámbito de las Smart Cities. Permite gestionar datos en tiempo real mediante una arquitectura basada en microservicios.</p>
<p><img alt="Arquitectura FIWARE Smart City" src="../Arquitectura_FIWARE_SmartCity.jpg" style="width:80%;margin:auto;display:block" /></p>
<h2 id="93-arquitectura-de-fiware">9.3. Arquitectura de FIWARE</h2>
<p>FIWARE está compuesto por varios elementos clave:</p>
<ul>
<li><strong>Context Broker (Orion)</strong>: Es el núcleo de FIWARE. Se encarga de la gestión del contexto de la ciudad, almacenando y proporcionando datos en tiempo real sobre las entidades urbanas. Permite la comunicación entre dispositivos IoT y aplicaciones a través de la API NGSI.</li>
<li><strong>IoT Agents</strong>: Son intermediarios entre los dispositivos IoT y el Context Broker. Actúan como traductores de protocolos, permitiendo la comunicación con sensores y actuadores a través de protocolos como MQTT, HTTP y LwM2M.</li>
<li><strong>Cygnus</strong>: Componente encargado de la persistencia de datos. Se integra con bases de datos y sistemas de almacenamiento como MySQL, PostgreSQL, MongoDB o Hadoop, asegurando la trazabilidad de la información.</li>
<li><strong>Quantum Leap</strong>: Servicio especializado en la gestión y análisis de datos históricos. Permite la consulta y visualización de series temporales mediante la integración con bases de datos como CrateDB.</li>
<li><strong>Security &amp; Identity Management (Keyrock, PEP Proxy, Wilma, Authzforce)</strong>: Garantiza la autenticación y autorización de usuarios y dispositivos dentro de FIWARE.</li>
<li><strong>Keyrock</strong>: Proporciona gestión de identidades y autenticación basada en OAuth2.</li>
<li><strong>PEP Proxy y Wilma</strong>: Protegen las API asegurando que solo usuarios autorizados puedan acceder a los servicios.</li>
<li><strong>Authzforce</strong>: Proporciona control de acceso basado en políticas (ABAC).</li>
<li><strong>NGSI-v2</strong>: Es el  estándar de intercambio de datos en FIWARE basado en Linked Data, que permite la interoperabilidad entre diferentes sistemas dentro de una Smart City.</li>
<li><strong>NGSI-LD</strong>: Es el nuevo estándar de intercambio de datos en FIWARE basado en Linked Data.</li>
</ul>
<p><img alt="Arquitectura FIWARE" src="../Arquitectura_FIWARE.png" />
<em>Fuente: <a href="https://documenter.getpostman.com/view/513743/RWEnkvDc">https://documenter.getpostman.com/view/513743/RWEnkvDc</a></em></p>
<h3 id="31-estructura-de-datos-en-el-context-broker-orion">3.1. Estructura de Datos en el Context Broker Orion</h3>
<p>El Context Broker Orion almacena información sobre entidades de la Smart City en un formato JSON basado en NGSI. Cada entidad representa un objeto del mundo real y tiene atributos asociados.</p>
<p>Ejemplo de estructura de una entidad en Orion:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sensor001&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TemperatureSensor&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;temperature&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;geo:point&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;40.4168,-3.7038&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DateTime&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-02-13T10:15:00Z&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="componentes-clave-de-la-estructura-de-datos">Componentes clave de la estructura de datos:</h4>
<ul>
<li><strong><code>id</code></strong>: Identificador único de la entidad.</li>
<li>
<p><strong><code>type</code></strong>: Tipo de entidad (ej. <code>TemperatureSensor</code>, <code>Vehicle</code>, <code>StreetLight</code>).</p>
</li>
<li>
<p>Atributos:</p>
<ul>
<li><strong><code>value</code></strong>: Valor del atributo en tiempo real.</li>
<li><strong><code>type</code></strong>: Tipo de dato (<code>Number</code>, <code>Text</code>, <code>DateTime</code>, <code>geo:point</code>).</li>
<li><strong><code>metadata</code></strong> (opcional): Información adicional sobre el atributo, como unidades de medida.</li>
</ul>
</li>
</ul>
<h4 id="creacion-de-entidades-en-orion">Creación de Entidades en Orion</h4>
<p>Para crear una entidad en Orion Context Broker, se utiliza una petición HTTP POST a la API NGSI v2:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>http://localhost:1026/v2/entities<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;id&quot;: &quot;sensor002&quot;,</span>
<span class="s1">    &quot;type&quot;: &quot;HumiditySensor&quot;,</span>
<span class="s1">    &quot;humidity&quot;: {</span>
<span class="s1">      &quot;value&quot;: 55,</span>
<span class="s1">      &quot;type&quot;: &quot;Number&quot;</span>
<span class="s1">    },</span>
<span class="s1">    &quot;location&quot;: {</span>
<span class="s1">      &quot;type&quot;: &quot;geo:point&quot;,</span>
<span class="s1">      &quot;value&quot;: &quot;40.4168,-3.7038&quot;</span>
<span class="s1">    }</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h4 id="actualizacion-de-datos-en-una-entidad">Actualización de Datos en una Entidad</h4>
<p>Para actualizar un atributo de una entidad, se usa una petición HTTP PATCH:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>PATCH<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>http://localhost:1026/v2/entities/sensor002/attrs<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Content-Type: application/json&#39;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-d<span class="w"> </span><span class="s1">&#39;{</span>
<span class="s1">    &quot;humidity&quot;: {</span>
<span class="s1">      &quot;value&quot;: 60</span>
<span class="s1">    }</span>
<span class="s1">  }&#39;</span>
</code></pre></div>
<h4 id="consulta-de-datos-en-una-entidad">Consulta de Datos en una Entidad</h4>
<p>Para obtener la información de una entidad específica:</p>
<div class="highlight"><pre><span></span><code>curl<span class="w"> </span>-X<span class="w"> </span>GET<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>http://localhost:1026/v2/entities/sensor002<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-H<span class="w"> </span><span class="s1">&#39;Accept: application/json&#39;</span>
</code></pre></div>
<h4 id="relacion-entre-entidades">Relación entre entidades</h4>
<p>Las entidades pueden estar relacionadas mediante atributos referenciales:</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;vehicle001&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Car&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;speed&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;location&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;geo:point&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;40.7128,-74.0060&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Relationship&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;person123&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>En este caso, la entidad <code>vehicle001</code> tiene una relación con la entidad <code>person123</code>.</p>
<h2 id="94-despliegue-de-fiware-en-una-smart-city">9.4. Despliegue de FIWARE en una Smart City</h2>
<h3 id="941-requisitos">9.4.1. Requisitos</h3>
<p>Para desplegar FIWARE en una Smart City se necesitan:</p>
<ul>
<li>Servidores o infraestructura en la nube (ej. AWS, Azure, Google Cloud, OpenStack)</li>
<li>Contenedores Docker y orquestación con Docker Compose o Kubernetes</li>
<li>Base de datos como MongoDB para el Context Broker Orion</li>
<li>Configuración de redes y seguridad para la comunicación entre los distintos componentes</li>
</ul>
<h3 id="942-configuracion-de-fiware">9.4.2. Configuración de FIWARE</h3>
<p>Un ejemplo de configuración con Docker podría ser este</p>
<div class="highlight"><pre><span></span><code>version: &quot;3.8&quot;
services:
  mongo-db:
    image: mongo:4.4
    container_name: mongo-db
    restart: always
    ports:
      - &quot;27017:27017&quot;
    networks:
      - fiware-net

  orion:
    image: fiware/orion
    container_name: orion
    restart: always
    depends_on:
      - mongo-db
    ports:
      - &quot;1026:1026&quot;
    command: -dbhost mongo-db -logLevel DEBUG
    networks:
      - fiware-net

  iot-agent:
    image: fiware/iotagent-ul
    container_name: iot-agent
    restart: always
    depends_on:
      - mongo-db
    ports:
      - &quot;4041:4041&quot;
    environment:
      - IOTA_CB_HOST=orion
      - IOTA_CB_PORT=1026
      - IOTA_NORTH_PORT=4041
      - IOTA_REGISTRY_TYPE=mongodb
      - IOTA_MONGO_HOST=mongo-db
      - IOTA_MONGO_PORT=27017
    networks:
      - fiware-net

  cygnus:
    image: fiware/cygnus-ngsi
    container_name: cygnus
    restart: always
    depends_on:
      - mongo-db
    ports:
      - &quot;5080:5080&quot;
    environment:
      - CYGNUS_MONGO_HOSTS=mongo-db:27017
      - CYGNUS_SERVICE_PORT=5080
    networks:
      - fiware-net

  quantumleap:
    image: smartsdk/quantumleap
    container_name: quantumleap
    restart: always
    depends_on:
      - crate-db
    ports:
      - &quot;8668:8668&quot;
    environment:
      - CRATE_HOST=crate-db
    networks:
      - fiware-net

  crate-db:
    image: crate
    container_name: crate-db
    restart: always
    ports:
      - &quot;4200:4200&quot;
      - &quot;5432:5432&quot;
    networks:
      - fiware-net

  keyrock:
    image: fiware/idm
    container_name: keyrock
    restart: always
    depends_on:
      - mysql-db
    ports:
      - &quot;3005:3005&quot;
    environment:
      - IDM_DB_HOST=mysql-db
      - IDM_DB_PASS=idm
    networks:
      - fiware-net

  mysql-db:
    image: mysql:5.7
    container_name: mysql-db
    restart: always
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_DATABASE=idm
      - MYSQL_USER=idm
      - MYSQL_PASSWORD=idm
    networks:
      - fiware-net

networks:
  fiware-net:
    driver: bridge
</code></pre></div>
<h2 id="95-integracion-de-sensores-iot">9.5. Integración de Sensores IoT</h2>
<p>Para conectar sensores IoT con FIWARE necesitamos:</p>
<ol>
<li><strong>Usar IoT Agents (ejemplo: IoT Agent JSON)</strong></li>
<li><strong>Registrar sensores en el Context Broker</strong> mediante una petición HTTP POST.</li>
</ol>
<h3 id="951-conexion-de-sensores-a-fiware">9.5.1. Conexión de Sensores a FIWARE</h3>
<p>Los sensores IoT se integran con FIWARE a través de los IoT Agents, que permiten la comunicación entre los dispositivos y el Context Broker Orion.</p>
<h3 id="952-registro-de-sensores">9.5.2. Registro de Sensores</h3>
<p>Para registrar un sensor en FIWARE, se envía una petición HTTP POST al IoT Agent. Ejemplo:</p>
<div class="highlight"><pre><span></span><code>curl -X POST \
  &#39;http://localhost:4041/iot/devices&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{
    &quot;devices&quot;: [
      {
        &quot;device_id&quot;: &quot;sensor001&quot;,
        &quot;entity_name&quot;: &quot;urn:ngsi-ld:Sensor:001&quot;,
        &quot;entity_type&quot;: &quot;Sensor&quot;,
        &quot;attributes&quot;: [
          { &quot;object_id&quot;: &quot;t&quot;, &quot;name&quot;: &quot;temperature&quot;, &quot;type&quot;: &quot;Number&quot; }
        ],
        &quot;protocol&quot;: &quot;IoTA-JSON&quot;,
        &quot;transport&quot;: &quot;HTTP&quot;
      }
    ]
  }&#39;
</code></pre></div>
<h3 id="953-envio-de-datos-desde-sensores">9.5.3. Envío de Datos desde Sensores</h3>
<p>Una vez registrado el sensor, se pueden enviar datos al Context Broker:</p>
<div class="highlight"><pre><span></span><code>curl -X POST \
  &#39;http://localhost:7896/iot/d?k=1234&amp;i=sensor001&#39; \
  -H &#39;Content-Type: text/plain&#39; \
  -d &#39;t|22.5&#39;
</code></pre></div>
<h3 id="954-consulta-de-datos-en-orion">9.5.4. Consulta de Datos en Orion</h3>
<p>Para recuperar los datos del sensor desde el Context Broker:</p>
<div class="highlight"><pre><span></span><code>curl -X GET &#39;http://localhost:1026/v2/entities/urn:ngsi-ld:Sensor:001&#39;
</code></pre></div>
<p>Estos pasos permiten la integración de sensores con FIWARE, posibilitando la monitorización en tiempo real dentro de una Smart City.</p>
<h2 id="96-analisis-y-visualizacion-de-datos">9.6. Análisis y Visualización de Datos</h2>
<ul>
<li><strong>Cygnus</strong>: Para almacenar datos en bases de datos como MySQL, PostgreSQL o Hadoop.</li>
<li><strong>Quantum Leap + Grafana</strong>: Para análisis en tiempo real y generación de dashboards interactivos.</li>
</ul>
<h3 id="961-almacenamiento-y-recuperacion-de-datos">9.6.1. Almacenamiento y Recuperación de Datos</h3>
<p>FIWARE permite almacenar datos históricos mediante componentes como <strong>Cygnus</strong> y <strong>Quantum Leap</strong>, que integran el Context Broker con bases de datos como CrateDB, PostgreSQL y MongoDB.</p>
<p>Para recuperar datos históricos:</p>
<div class="highlight"><pre><span></span><code>curl -X GET &#39;http://localhost:8668/v2/entities/urn:ngsi-ld:Sensor:001/attrs/temperature&#39;
</code></pre></div>
<h3 id="962-integracion-con-grafana">9.6.2. Integración con Grafana</h3>
<p>Grafana se usa para visualizar datos en tiempo real y series temporales de FIWARE. Se configura con fuentes de datos como CrateDB o InfluxDB.</p>
<p>Para agregar CrateDB en Grafana:</p>
<ol>
<li>Acceder a Grafana en <code>http://localhost:3000</code></li>
<li>Configurar CrateDB como fuente de datos</li>
<li>Crear dashboards con gráficos basados en consultas SQL</li>
</ol>
<p>Ejemplo de consulta SQL en Grafana:</p>
<div class="highlight"><pre><span></span><code>SELECT entity_id, temperature, time_index FROM ettemperature WHERE entity_id=&#39;urn:ngsi-ld:Sensor:001&#39;
</code></pre></div>
<h3 id="963-uso-de-jupyter-notebooks-para-el-analisis-de-datos">9.6.3. Uso de Jupyter Notebooks para el Análisis de Datos</h3>
<p>FIWARE se integra con Jupyter Notebooks para análisis avanzado usando Python y Pandas.</p>
<p>Ejemplo de carga de datos desde FIWARE:</p>
<div class="highlight"><pre><span></span><code>import requests
import pandas as pd

url = &quot;http://localhost:8668/v2/entities/urn:ngsi-ld:Sensor:001/attrs/temperature&quot;
response = requests.get(url).json()

data = pd.DataFrame(response[&quot;values&quot;], columns=[&quot;timestamp&quot;, &quot;temperature&quot;])
print(data.head())
</code></pre></div>
<p>Estos métodos permiten visualizar y analizar datos en una Smart City en tiempo real.</p>
<h2 id="97-seguridad-y-gestion-de-usuarios">9.7. Seguridad y Gestión de Usuarios</h2>
<p>FIWARE ofrece Keyrock para la gestión de identidades y autorización de acceso mediante OAuth2.</p>
<p>FIWARE proporciona mecanismos robustos para la seguridad y gestión de usuarios, basados en el componente <strong>Keyrock</strong>, junto con <strong>PEP Proxy, Wilma y Authzforce</strong>.</p>
<h3 id="971-autenticacion-y-autorizacion">9.7.1. Autenticación y Autorización</h3>
<ul>
<li><strong>Keyrock</strong> gestiona identidades y autenticación mediante OAuth2 y OpenID Connect.</li>
<li><strong>Wilma PEP Proxy</strong> protege APIs, asegurando que solo usuarios autenticados accedan a los servicios.</li>
<li><strong>Authzforce</strong> permite definir políticas de control de acceso avanzadas.</li>
</ul>
<h3 id="972-creacion-de-usuarios-y-roles">9.7.2. Creación de Usuarios y Roles</h3>
<p>Ejemplo de registro de un usuario en Keyrock:</p>
<div class="highlight"><pre><span></span><code>curl -X POST &#39;http://localhost:3005/v1/users&#39; \
  -H &#39;Content-Type: application/json&#39; \
  -d &#39;{ &quot;user&quot;: { &quot;username&quot;: &quot;admin&quot;, &quot;email&quot;: &quot;admin@example.com&quot;, &quot;password&quot;: &quot;1234&quot; } }&#39;
</code></pre></div>
<p>FIWARE permite administrar permisos, roles y acceso a los recursos, garantizando la seguridad en entornos urbanos inteligentes.</p>
<h2 id="98-casos-de-uso-en-smart-cities">9.8. Casos de Uso en Smart Cities</h2>
<ul>
<li><strong>Gestión del tráfico</strong>: Sensores de tráfico y estacionamiento envían datos en tiempo real.</li>
<li><strong>Monitoreo ambiental</strong>: Sensores de calidad del aire reportan información a través de FIWARE.</li>
<li><strong>Alumbrado inteligente</strong>: Luces que se activan según la presencia de personas o vehículos.</li>
</ul>
<h2 id="99-ejemplo-practico-de-fiware-con-docker">9.9. Ejemplo práctico de FIWARE con Docker</h2>
<p>Este es el fichero de configuración de Docker simplificado para una primera introducción a FIWARE, en él se han eliminado algunos servicios no imprescindibles.</p>
<div class="highlight"><pre><span></span><code>version: &quot;3.8&quot;
services:
  mongo-db:
    image: mongo:4.4
    container_name: mongo-db
    restart: always
    ports:
      - &quot;27017:27017&quot;
    networks:
      - fiware-net

  orion:
    image: fiware/orion
    container_name: orion
    restart: always
    depends_on:
      - mongo-db
    ports:
      - &quot;1026:1026&quot;
    command: -dbhost mongo-db -logLevel DEBUG
    networks:
      - fiware-net

  iot-agent:
    image: fiware/iotagent-ul
    container_name: iot-agent
    restart: always
    depends_on:
      - mongo-db
    ports:
      - &quot;4041:4041&quot;
    environment:
      - IOTA_CB_HOST=orion
      - IOTA_CB_PORT=1026
      - IOTA_NORTH_PORT=4041
      - IOTA_REGISTRY_TYPE=mongodb
      - IOTA_MONGO_HOST=mongo-db
      - IOTA_MONGO_PORT=27017
    networks:
      - fiware-net

  quantumleap:
    image: smartsdk/quantumleap
    container_name: quantumleap
    restart: always
    depends_on:
      - crate-db
    ports:
      - &quot;8668:8668&quot;
    environment:
      - CRATE_HOST=crate-db
    networks:
      - fiware-net

  crate-db:
    image: crate
    container_name: crate-db
    restart: always
    ports:
      - &quot;4200:4200&quot;
      - &quot;5432:5432&quot;
    networks:
      - fiware-net

networks:
  fiware-net:
    driver: bridge
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.copy"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>